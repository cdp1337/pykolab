[kolab]
primary_domain = example.org
auth_mechanism = ldap
imap_backend = cyrus-imap
default_quota = 2097152
virtual_domains = userid
quota_attribute = mailquota
unique_attribute = nsunique
mailserver_attribute = mailhost
mail_attributes = mail, alias
auth_attributes = mail, alias, uid

[ldap]
ldap_uri = ldap://localhost
base_dn = dc=example,dc=org

user_base_dn = ou=People,%(base_dn)s
user_filter = (objectclass=inetorgperson)
user_scope = sub

kolab_user_filter = (objectclass=kolabinetorgperson)

group_base_dn = ou=Groups,%(base_dn)s
group_filter = (|(objectclass=groupofuniquenames)(objectclass=groupofurls))
kolab_group_filter = (|(objectclass=kolabgroupofuniquenames)(objectclass=kolabgroupofurls))

bind_dn = cn=Directory Manager
bind_pw = VerySecret

domain_base_dn = cn=kolab,cn=config
domain_filter = (&(associatedDomain=*))
domain_name_attribute = associateddomain
domain_rootdn_attribute = inetdomainbasedn

[kolab_smtp_access_policy]
uri = mysql://user:pass@localhost/kolab
retention = 3600
address_search_attrs = mail, alias

[kolab_telemetry]
uri = mysql://user:pass@localhost/kolab
retention = 30

[kolab_wap]
sql_uri = mysql://user:pass@localhost/kolab
;api_url = http://localhost/kolab-webadmin/api
skin = default
admin_auto_fields_rw = false

[cyrus-imap]
uri = imaps://localhost:993
admin_login = cyrus-admin
admin_password = VerySecret

[cyrus-sasl]
result_attribute = mail

[example.org]
default_quota = 1048576
primary_mail = %(givenname)s.%(surname)s@%(domain)s
secondary_mail = {
        0: {
                "{0}.{1}@{2}": "format('%(givenname)s'[0:1].capitalize(), '%(surname)s', '%(domain)s')"
            },
        1: {
                "{0}@{1}": "format('%(uid)s', '%(domain)s')"
            },
        2: {
                "{0}@{1}": "format('%(givenname)s.%(surname)s', '%(domain)s')"
            }
    }
autocreate_folders = {
        'Archive': {
                'quota': 0
            },
        'Calendar': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "event.default",
                    },
            },
        'Calendar/Personal Calendar': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "event",
                    },
            },
        'Configuration': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "configuration.default",
                    },
            },
        'Drafts': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "mail.drafts",
                    },
            },
        'Contacts': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "contact.default",
                    },
            },
        'Contacts/Personal Contacts': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "contact",
                    },
            },
        'Journal': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "journal.default",
                    },
            },
        'Notes': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': 'note.default',
                    },
            },
        'Sent': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "mail.sentitems",
                    },
            },
        'Spam': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "mail.junkemail",
                    },
            },
        'Tasks': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "task.default",
                    },
            },
        'Trash': {
                'annotations': {
                        '/vendor/kolab/folder-test': "true",
                        '/vendor/kolab/folder-type': "mail.trash",
                    },
            },
    }
